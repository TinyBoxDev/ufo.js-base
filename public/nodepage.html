<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>P2PWebSharing</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Simple p2p application base on browser">
    <meta name="author" content="{boemianrapsody, b3by.in.th3.sky} [at] gmail.com">

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="css/p2pstylish.css" rel="stylesheet">
    
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>    
    <script src="js/client.min.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

  </head>
  
  <body>
  
  <div class="container">

	<script>
		var console = {
			log: function(message) {
				$('#consoleLogPanel').prepend('<p>' + message + '</p>');
				
			},
			msg : function(message) {
				$('#consoleMessages').append('<p>Msg:' + message + '</p>');
			},
			warn : function(message) {
				$('#consoleWarnPanel').append('<p>' + message + '</p>');
			}
		};
		
		var runClient = function() {
			console.log('Client is contacting server.');
			$('#bootstrapBtn').attr('disabled', 'disabled');
			client.onPeerFound = function() {
				//$('#bootstrapRow').remove();
				console.log('Assigned ID is ' + client.id);
			}
			client.bootstrap();
		}
		
		var sendMessage = function() {
			var messageToSend = $('#messageBox').val();
			console.msg(messageToSend);
			$('#messageBox').val('Burp here!');
		}

	</script>

	<div class="masthead">
  		<h3 class="muted">P2P Web Sharing</h3>
	</div>
	<hr>
	<div class="row" id="bootstrapRow">
        	<div class="span6 offset3" align="center">
			<button class="btn btn-large btn-warning" type="button" id="bootstrapBtn" onClick="runClient();">Bootstrap</button>
		</div>
	</div>
	
	<hr>
	
	<div class="row">
		<div class='span4'>
			<div id='consoleLogTitle' class='alert alert-info' style='overflow : scroll; font-size : 12px; height : 300px'>
				<p align='center'>Status</p><hr><FONT FACE="courier">
				<div id='consoleLogPanel'></div></FONT>
		</div></div>
		<div class='span4'>
			<div id='consoleMessagesTitle' class='alert alert-success' style='overflow : scroll; font-size : 12px; height : 300px'>
				<p align='center'>Messages</p><hr><FONT FACE="courier">
				<div id='consoleMessages' classe='alert alert-warning' style='font-size : 12px;'></div></FONT>
		</div></div>
		<div class='span4'>
				<p>
					<input id='messageBox' type='text' value='Burp here!' name='messageBox' onfocus="this.value=''">
				</p>
				<p>
					<button class="btn btn-large btn-success" type="button" id="sendMessage" onClick="sendMessage()">Send message</button>
				</p>
		</div>
		<!--
		<div class='span4'>
			<div id='consoleErrPanel' class='alert alert-error' style='font-size : 12px;'><p align='center'>Errors</p><hr></div>
		</div>
		-->
	</div>
		
  </div>
  
  </body>
  
  </html>
